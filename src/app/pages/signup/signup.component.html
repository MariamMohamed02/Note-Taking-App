<section class="signup d-flex align-items-center vh-100">
  <div class="container boxShadow">
      <div class="signup-content row">
          <div class="signup-form col-md-6">
              <h2 class="form-title fs-2">Sign up</h2>
              <form class="register-form mt-4" id="register-form" [formGroup]="registerForm" (ngSubmit)="registerSubmit(registerForm)" >
                  <div class="form-group d-flex align-items-center mb-4">
                      <label for="name">
                          <span class="fa-solid fa-user"></span>
                      </label>
                      <input  type="text" name="name" id="name" placeholder="Your Name"  formControlName="name"/>
                  </div>
                  <!--  -->
                  @if (registerForm.get('name')?.errors && registerForm.get('name')?.touched) {
                    <div class="alert alert-danger">
                      @if (registerForm.get('name')?.getError('required')) {
                        <p>Name is Required</p>
                      }
                      @if (registerForm.get('name')?.getError('minlength') || registerForm.get('name')?.getError('maxlength') ) {
                        <p>Name Should Be Between 3 to 20 Characters</p>
                      }

                    </div>
                  }
                  <!--  -->
                  <div class="form-group d-flex align-items-center mb-4">
                      <label for="email">
                          <span class="fa-solid fa-envelope"></span>
                      </label>
                      <input  type="email" name="email" id="email" placeholder="Your Email" formControlName="email"/>
                  </div>
                  <!--  -->
                  @if (registerForm.get('email')?.errors && registerForm.get('email')?.touched) {
                    <div class="alert alert-danger">
                      @if (registerForm.get('email')?.getError('required')) {
                        <p>Email is Required</p>
                      }
                      @if (registerForm.get('email')?.getError('email')  ) {
                        <p>Email Should Be A Valid Form</p>
                      }

                    </div>
                  }
                  <!--  -->

                  <div class="form-group d-flex align-items-center mb-4">
                      <label for="password">
                          <span class="fa-solid fa-lock"></span>
                      </label>
                      <input  type="password" name="password" id="password" placeholder="Password" formControlName="password" />
                  </div>
                   <!--  -->
                   @if (registerForm.get('password')?.errors && registerForm.get('password')?.touched) {
                    <div class="alert alert-danger">
                      @if (registerForm.get('password')?.getError('required')) {
                        <p>Password is Required</p>
                      }
                      @if (registerForm.get('password')?.getError('pattern')  ) {
                        <p>Password Should be at least 6 characters</p>
                      }

                    </div>
                  }
                  <!--  -->
                  <div class="form-group d-flex align-items-center mb-4">
                      <label for="phone">
                          <span class="fa-solid fa-phone"></span>
                      </label>
                      <input  type="tel" name="phone" id="phone" placeholder="Phone" formControlName="phone"/>
                  </div>
                      <!--  -->
                      @if (registerForm.get('phone')?.errors && registerForm.get('phone')?.touched) {
                        <div class="alert alert-danger">
                          @if (registerForm.get('phone')?.getError('required')) {
                            <p>Phone Number is Required</p>
                          }
                          @if (registerForm.get('phone')?.getError('pattern')  ) {
                            <p>Phone Number Must Be a Valid Egyptian Number</p>
                          }

                        </div>
                      }
                      <!--  -->
                  <div class="form-group d-flex align-items-center mb-4">
                      <label for="age">
                          <span class="fa-solid fa-globe"></span>
                      </label>
                      <input  type="number" name="age" id="age" placeholder="Age" formControlName="age" />
                  </div>
                    <!--  -->
                    @if (registerForm.get('age')?.errors && registerForm.get('age')?.touched) {
                      <div class="alert alert-danger">
                        <p>Age is Required</p>
                      </div>
                    }
                    <!--  -->

                    @if(apiErr){
                      <p class="alert alert-danger">{{apiErr}}</p>
                    }



                  <!--  -->

                  <div class="d-flex justify-content-center align-items-center flex-column">
                      <button class="btn btn-danger" [disabled]="registerForm.invalid">
                          @if(isLoading){
                            <i class="fa fa-spinner fa-spin"></i>
                          }
                          @if (!isLoading) {
                            <span>Register</span>
                          }

                      </button>
                      <p class="my-3">Already Have an account?
                          <a class="text-info">Signin</a>
                      </p>
                  </div>
              </form>
          </div>
          <div class="signup-image col-md-6 d-flex justify-content-center">
              <figure><img src="assets/images/signup-image.jpg" alt="sing up image"/></figure>
          </div>
      </div>
  </div>
</section>
